<section class="w-full py-16 md:py-20 relative overflow-hidden bg-[rgb(var(--bg))]">
  <div class="px-15 mx-auto text-center">
    <p class="uppercase text-sm text-center tracking-[3px] text-gray-400 ">
      Testimonials
    </p>
    <h2 class="mt-3 text-2xl text-center sm:text-3xl md:text-4xl font-medium 
               text-[rgb(var(--text))]">
      Hear what our clients have to say about us
    </h2>
  </div>

  <div class="relative">
    <div class="overflow-hidden py-10 slider-mask">
      <div
        #slider
        class="flex transition-transform duration-700 ease-in-out"
        style="transition: transform 700ms ease-in-out;"
      >
        <div  
          *ngFor="let item of testimonials"
          class="flex-shrink-0 px-4 md:px-6 lg:px-8"
          [style.width.%]="100 / slidesToShow"
        >
          <article
            class="testimonial-card bg-[rgb(var(--swiper-bg))] cursor-pointer"
            [ngClass]="{
              'scale-105 shadow-2xl z-10': slidesToShow === 3 && testimonials.indexOf(item) === current
            }"
          >
            <div class="avatar-bubble">
              <img
                [src]="item.img"
                alt="{{ item.name }}"
                class="avatar-img"
              />
            </div>

            <div class="card-body">
              <header class="card-head flex items-center">
                <div class="name-role">
                  <p class="card-title">{{ item.name }}</p>
                  <p class="card-role">{{ item.role }}</p>
                </div>

                <div class="card-stars">
                  <svg *ngFor="let _ of [].constructor(item.stars)" class="star filled" viewBox="0 0 24 24">
                    <path d="M12.0006 18.26L4.94715 22.2082L6.52248 14.2799L0.587891 8.7918L8.61493 7.84006L12.0006 0.5L15.3862 7.84006L23.4132 8.7918L17.4787 14.2799L19.054 22.2082L12.0006 18.26Z"/>
                  </svg>
                  <svg *ngFor="let _ of [].constructor(5 - item.stars)" class="star" viewBox="0 0 24 24">
                    <path d="M12.0006 15.968L16.2473 18.3451L15.2988 13.5717L18.8719 10.2674L14.039 9.69434L12.0006 5.27502L9.96214 9.69434L5.12921 10.2674L8.70231 13.5717L7.75383 18.3451L12.0006 15.968Z"/>
                  </svg>
                </div>
              </header>

              <p class="card-quote full mt-3">
                "{{ item.text }}"
              </p>
            </div>
          </article>
        </div>
      </div>
    </div>

<div class="edge-fade edge-fade--left"></div>
<div class="edge-fade edge-fade--right"></div>


    <button (click)="prev()"
      class="absolute left-4 lg:left-12 top-1/2 -translate-y-1/2 z-20 bg-white shadow-xl w-12 h-12 rounded-full flex items-center justify-center hover:scale-110 transition-all">
      <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"/></svg>
    </button>

    <button (click)="next()"
      class="absolute right-4 lg:right-12 top-1/2 -translate-y-1/2 z-20 bg-white shadow-xl w-12 h-12 rounded-full flex items-center justify-center hover:scale-110 transition-all">
      <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"/></svg>
    </button>
  </div>
</section>
